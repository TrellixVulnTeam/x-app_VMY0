{"ast":null,"code":"import _asyncToGenerator from\"/Users/Lena/Desktop/x-app/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"/Users/Lena/Desktop/x-app/client/node_modules/@babel/runtime/regenerator/index.js\";import axios from'axios';import{setUser}from'../reducers/userReducer';export var registration=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(email,password){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.post(\"http://localhost:5000/api/auth/registration\",{email:email,password:password});case 3:response=_context.sent;alert(response.data.message);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);alert(_context.t0.response.data.message);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function registration(_x,_x2){return _ref.apply(this,arguments);};}();export var login=function login(email,password){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.post(\"http://localhost:5000/api/auth/login\",{email:email,password:password});case 3:response=_context2.sent;dispatch(setUser(response.data.user));localStorage.setItem('token',response.data.token);console.log(response.data);_context2.next=12;break;case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](0);alert(_context2.t0.response.data.message);case 12:case\"end\":return _context2.stop();}}},_callee2,null,[[0,9]]);}));return function(_x3){return _ref2.apply(this,arguments);};}();};export var auth=function auth(){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch){var response;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return axios.get(\"http://localhost:5000/api/auth/auth\",{headers:{Authorization:\"Bearer \".concat(localStorage.getItem('token'))}});case 3:response=_context3.sent;dispatch(setUser(response.data.user));localStorage.setItem('token',response.data.token);console.log(response.data);_context3.next=13;break;case 9:_context3.prev=9;_context3.t0=_context3[\"catch\"](0);alert(_context3.t0.response.data.message);localStorage.removeItem('token');case 13:case\"end\":return _context3.stop();}}},_callee3,null,[[0,9]]);}));return function(_x4){return _ref3.apply(this,arguments);};}();};","map":{"version":3,"sources":["/Users/Lena/Desktop/x-app/client/src/actions/user.js"],"names":["axios","setUser","registration","email","password","post","response","alert","data","message","login","dispatch","user","localStorage","setItem","token","console","log","auth","get","headers","Authorization","getItem","removeItem"],"mappings":"+OAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,OAAT,KAAwB,yBAAxB,CAEA,MAAO,IAAMC,CAAAA,YAAY,0FAAG,iBAAOC,KAAP,CAAcC,QAAd,qKAEGJ,CAAAA,KAAK,CAACK,IAAN,+CAA0D,CAC7EF,KAAK,CAALA,KAD6E,CAE7EC,QAAQ,CAARA,QAF6E,CAA1D,CAFH,QAEdE,QAFc,eAMpBC,KAAK,CAACD,QAAQ,CAACE,IAAT,CAAcC,OAAf,CAAL,CANoB,+EAQpBF,KAAK,CAAC,YAAED,QAAF,CAAWE,IAAX,CAAgBC,OAAjB,CAAL,CARoB,oEAAH,kBAAZP,CAAAA,YAAY,gDAAlB,CAcP,MAAO,IAAMQ,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,CAACP,KAAD,CAAQC,QAAR,CAAqB,CACtC,gGAAO,kBAAMO,QAAN,2KAEwBX,CAAAA,KAAK,CAACK,IAAN,wCAAmD,CACtEF,KAAK,CAALA,KADsE,CAEtEC,QAAQ,CAARA,QAFsE,CAAnD,CAFxB,QAEOE,QAFP,gBAMCK,QAAQ,CAACV,OAAO,CAACK,QAAQ,CAACE,IAAT,CAAcI,IAAf,CAAR,CAAR,CACAC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8BR,QAAQ,CAACE,IAAT,CAAcO,KAA5C,EACAC,OAAO,CAACC,GAAR,CAAYX,QAAQ,CAACE,IAArB,EARD,mFAUCD,KAAK,CAAC,aAAED,QAAF,CAAWE,IAAX,CAAgBC,OAAjB,CAAL,CAVD,sEAAP,iEAeH,CAhBM,CAkBP,MAAO,IAAMS,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,EAAM,CACtB,gGAAO,kBAAMP,QAAN,2KAEwBX,CAAAA,KAAK,CAACmB,GAAN,uCACtB,CAACC,OAAO,CAAC,CAACC,aAAa,kBAAWR,YAAY,CAACS,OAAb,CAAqB,OAArB,CAAX,CAAd,CAAT,CADsB,CAFxB,QAEOhB,QAFP,gBAICK,QAAQ,CAACV,OAAO,CAACK,QAAQ,CAACE,IAAT,CAAcI,IAAf,CAAR,CAAR,CACAC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8BR,QAAQ,CAACE,IAAT,CAAcO,KAA5C,EACAC,OAAO,CAACC,GAAR,CAAYX,QAAQ,CAACE,IAArB,EAND,mFAQCD,KAAK,CAAC,aAAED,QAAF,CAAWE,IAAX,CAAgBC,OAAjB,CAAL,CACAI,YAAY,CAACU,UAAb,CAAwB,OAAxB,EATD,sEAAP,iEAcH,CAfM","sourcesContent":["import axios from 'axios'\nimport { setUser } from '../reducers/userReducer'\n\nexport const registration = async (email, password) => {\n    try {\n        const response = await axios.post(`http://localhost:5000/api/auth/registration`, {\n            email,\n            password\n        })\n        alert(response.data.message)\n    } catch (e) {\n        alert(e.response.data.message)\n    }\n\n}\n\n\nexport const login = (email, password) => {\n    return async dispatch => {\n        try {\n            const response = await axios.post(`http://localhost:5000/api/auth/login`, {\n                email,\n                password\n            })\n            dispatch(setUser(response.data.user))\n            localStorage.setItem('token', response.data.token)\n            console.log(response.data)\n        } catch (e) {\n            alert(e.response.data.message)\n        }\n\n    }\n\n}\n\nexport const auth = () => {\n    return async dispatch => {\n        try {\n            const response = await axios.get(`http://localhost:5000/api/auth/auth`,\n             {headers:{Authorization:`Bearer ${localStorage.getItem('token')}`}})\n            dispatch(setUser(response.data.user))\n            localStorage.setItem('token', response.data.token)\n            console.log(response.data)\n        } catch (e) {\n            alert(e.response.data.message)\n            localStorage.removeItem('token')\n        }\n\n    }\n\n}\n\n"]},"metadata":{},"sourceType":"module"}